(this["webpackJsonpwarbler-client"]=this["webpackJsonpwarbler-client"]||[]).push([[0],{21:function(A,e){A.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gKgSUNDX1BST0ZJTEUAAQEAAAKQbGNtcwQwAABtbnRyUkdCIFhZWiAH3gAKABYADwAWABthY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtkZXNjAAABCAAAADhjcHJ0AAABQAAAAE53dHB0AAABkAAAABRjaGFkAAABpAAAACxyWFlaAAAB0AAAABRiWFlaAAAB5AAAABRnWFlaAAAB+AAAABRyVFJDAAACDAAAACBnVFJDAAACLAAAACBiVFJDAAACTAAAACBjaHJtAAACbAAAACRtbHVjAAAAAAAAAAEAAAAMZW5VUwAAABwAAAAcAHMAUgBHAEIAIABiAHUAaQBsAHQALQBpAG4AAG1sdWMAAAAAAAAAAQAAAAxlblVTAAAAMgAAABwATgBvACAAYwBvAHAAeQByAGkAZwBoAHQALAAgAHUAcwBlACAAZgByAGUAZQBsAHkAAAAAWFlaIAAAAAAAAPbWAAEAAAAA0y1zZjMyAAAAAAABDEoAAAXj///zKgAAB5sAAP2H///7ov///aMAAAPYAADAlFhZWiAAAAAAAABvlAAAOO4AAAOQWFlaIAAAAAAAACSdAAAPgwAAtr5YWVogAAAAAAAAYqUAALeQAAAY3nBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbcGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltwYXJhAAAAAAADAAAAAmZmAADypwAADVkAABPQAAAKW2Nocm0AAAAAAAMAAAAAo9cAAFR7AABMzQAAmZoAACZmAAAPXP/bAEMABQMEBAQDBQQEBAUFBQYHDAgHBwcHDwsLCQwRDxISEQ8RERMWHBcTFBoVEREYIRgaHR0fHx8TFyIkIh4kHB4fHv/bAEMBBQUFBwYHDggIDh4UERQeHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHv/AABEIAZABkAMBIgACEQEDEQH/xAAcAAEAAwADAQEAAAAAAAAAAAAABgcIAwQFAgH/xAA+EAEAAQMCAwUDCAcJAQAAAAAAAQIDBAURBgchEjFRYYFxkcETFBUiQUJSsQgjYnKhstEWMjM3U6Lh8PEk/8QAGwEBAQADAQEBAAAAAAAAAAAAAAYBAwUEBwL/xAAsEQEAAgEDAgQFBAMAAAAAAAAAAQIDBAURMUEGEhMhIjJRYXEUIzTRgaGx/9oADAMBAAIRAxEAPwD6AfUHy8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5hniQBlgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfePZvZF+ixj2q7t2udqaKKZqqmfDb7Uk4H4K1bim/FWPT83waZ2uZVcfVjyp/FK9uEuEdE4ZsRTp+NFWRMbXMi59a5X6/Z7IcrXbti03w1+Kzq6Hasup+KfaqqOGOUutZ8U3tYu06ZYnaext27s+ndT6rH0bltwlptNMzp3zy7Hfcyapr39O5LxL6jc9Rnn3txH2U+n2vT4Y9q8/l1cbTdOxqIoxsDEs0x3RRZppiPdBk6bp2TRNGTgYl6me+K7NNUT74doeHz268vd6denEIhrPLbhLUqapjTvmd2e65jVTRt6dyuOJ+UutYEVXtHu06nYjeext2LsendV6L2Hu0+56jBMcW5j7vDqNr0+ePevE/ZkbIs3sa/XYyLVdq7RO1VFdM01RPht9j4ad4t4R0TiaxNOoY0U5ERtbyLf1blHr9vslRPHHBOrcLX5qv0/OMGqdreVRH1Z8qvwyqNDu2LU8Vt8Nkxrtqy6b4o96owA6rlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACxeWPLq7rk29W1miu1pm+9u3vMVZH9KfzcnKTgH6YuW9b1i1MadRO9mzPT5eYn+WP4rypppopimiIpppiIiIjaI8vKE5uu7eTnDhn37yotq2n1P3s3TtDjxMaxiY1vGxbNFmxbjs0UUUxFNMeDlBLTMzPMqqIiI4gAYZAAAAHFl41jLxrmNlWaL1i5HZrorpiaao8HKMxMxPMMTETHEqI5ncuruhzc1bRqK7umb73Le8zVj/ANafyV013XTFVM01UxVTVExVTMbxMeHmo3m3wD9D3Lmt6PamdOrne9Zjr8hMz/LP8FTtW7efjDmn37Sld12nyfvYeneFbAKNOgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACacq+Da+J9U+c5dFUaXjVb3av8AUq/BH5z/AMo9wtomXxDrmPpeHTtXcneuuY6UUx31T/3wab0DSsPRNJx9MwbfYsWado8ap+2Z8ZnvcXd9w/T09Ok/FP8Ap2to2/8AUX9S/wAsO5ZtW7NqizZopt26IimimmNoiIju8n0CNmefeVlEce0ADDIAAAAAAAA+b1q3etV2b1FNy3XE0101RvExMd3m+hmJ494YmOfaWd+afBtfDOqfOcSiqdLyat7M/wClV+Cfh/whbV2v6Vh63pGRpmdR27F6nafGmfsmPCY72ZOKdEy+HtcyNLzKd67c70VxHSume6qP++Ky2jcP1FPTvPxR/tG7vt/6e/qU+WXmAO04oAAAAAAAAAAAAAAAAAAAAAAAAAAAACbcnuGvp7iejIybfawcHa7die6ur7tPn1jf082nUZ64Mc5Ldm7T4bZ8kY691m8nuFY0DQIzcu12dRzYiqveOtuj7tHl4z7fJOQfPs+a2fJOS3WX0HT4K4McY69gBpbgAAAAAAAAAAABBucPCsa/oE5uJa7WoYUTVb2jrco+9R5+MezzTkbcGa2DJGSvZp1GCufHOO3dkMTbnDw1Gg8T15GNb7ODnb3bUR3UVfep8u/f18kJfQtPnrnxxkr3fPtRhtgyTjt2AG5pAAAAAAAAAAAAAAAAAAAAAAAAAAIiZmIpiZmZ2iI75lpflpw/HDvCeLiXKIpyrsfLZE/b25+z0jaPRTPKDQvpvjKxVdt9rGwo+cXd+6Zifqx79p9JaLS+/wCq5tGGs9PeVRsGl4ic9o+0ACaUoAAAAAAAAAAAAAAACNcyuH44i4TysWiiKsq1Hy2PP29uPs9Y3j1ZomJiZiqJiYnaYnviWvGdOb+hfQnGV+q1b7ONmx84tbd0TM/Wj37z6wpdg1XFpw2nr7wmt/0vMRmr+JQ4BUJcAAAAAAAAAAAAAAAAAAAAAAAAB2dKw7uo6njYFmP1mRdpt0+W8x19zFrRWs2npDNaza0RHdenIzRqdO4P+kK6dr2oV/KTM98UUzMUx7O+fVP3DgYtrCwbGHYjs2rFum3RHhEREfBzPnWpzTmzWyT3fRdLhjDhrSOwA0N4AAAAAAAAAAAAAAAAgHPPRo1Hg/6Qt0739PufKRMd80VTEVR+U+ifuHPxbWdg38K/HatX7dVuuPGJiY+Lfps04c1ckdmjU4YzYbUnuySOzq2Fd07U8rAvRtcx7tVurz2mevxdZ9FraLVi0dJfOrVmszE9gBlgAAAAAAAAAAAAAAAAAAAAAATvkbps5vHFvKqp3owbVV6Z/amOzT69d/RBF2fo86f8lomoanVTtVkX4t0z400R/Wqfc5u7ZvS0tpjrPs6O1YfU1VY+nutABCLwAAAAAAAAAAAAAAAAAAABn7nlps4XHFzKpp2t51mm7E/tRHZn16b+qCLs/SG0/wCV0TT9Tpp3qx7826p8Ka4/rTHvUmu9pzerpa/WPZB7rh9PVWj6+4A6TnAAAAAAAAAAAAAAAAAAAAAADSfKfDnC5f6Vbmnaq5bm7VH71Uzv+TNlMTVMU0x1mYiIj7Zaz0jGpw9KxMSmNosWKLcbeVMR8E74hycY6UUXh6nOS93ZASirAAAAAAAAAAAAAAAAAAAARfmvhzm8v9VtxTvVbt03qY/dqid/zZraz1bGpzNKy8SqN4vWK7c7+dMx8WTKqZpqmmqNpiZiY8JVfh6/OO9Ep4hx8ZKXAFEnQAAAAAAAAAAAAAAAAAAAAAHf4asfOuItNx5jeLmXbpmPLtx/y1d3dzMnLOzF/j7Rbe28fOYmfSJn4NNyk/EFuctK/SFZ4erxivb6y/AE8oQAAAAAAAAAAAAAAAAAAAH7397KPEtj5rxHqWPttFvLuUxHl252+DV0MyczLMWOPtat7bR85mY9YifiofD1uMt4+sJ7xDXnFS33R0BWJMAAAAAAAAAAAAAAAAAAAAABLOUFPa5i6T+zXXP+yppBnLk3/mLpntufyS0aj9//AJEfj+1hsH8efz/QA4TugAAAAAAAAAAAAAAAAAAADN/N+ns8xdW6bb10T/spaQZy5yf5i6n7bf8AJDu+H/5E/j+nC3/+PH5/tEAFgjwAAAAAAAAAAAAAAAAAAAAAEq5R3It8xNI3+9cqp99FTSTLvAmR814z0e/M7RGXRG/tnb4tRz37JHxBX9+s/ZXeH7c4bR934A4DvgAAAAAAAAAAAAAAAAAAADNvNu5FzmJq/wCzdpp91FLScd+zLnHeR864z1i/vvvl1xv7J2+Dv+H6857T9nA8QW4w1j7vFAVyRAAAAAAAAAAAAAAAAAAAAAAcmNerx8m1fo6VWq4rj2xMT8Gs8O9Tk4lnItzvRdt010z4xMRPxZIaU5VZ/wBI8A6Xdmd67dubFflNEzG3uiE54hx80peFF4fy8ZL0+qUAJVVgAAAAAAAAAAAAAAAAAAAOLMvUY2Jeybk7UWqKq6p8IiJn4MmZN6rIybt+ud6rtc1z7ZmZ+LSPNXP+juAdUu01bV3LcWKPOa5iPymWalV4ex8Uvee6V8QZOb0pHYAUacAAAAAAAAAAAAAAAAAAAAAAFxfo8ar2rGpaLcq60zGRaifCfq1R+XvU6kPLjWY0LjHAza6uzYmv5K94dirp7omYn0eDctP6+mtXv1e7bs/oamtuWmw336xO8SIFfgAAAAAAAAAAAAAAAAAAG+3WZ2iAVL+kPqnZsaboturrVM5N2I8I6Ux+fuU6kPMfWY13jHPzbdXasRX8lZ8OxT090zEz6o8vttwehp614+6A3HP6+ptYAe94QAAAAAAAAAAAAAAAAAAAAAAAGjuU2vxr3CGPNy52svEj5C/E98zH92r1jb+KXM48qOJf7O8UW5v3Ozg5e1nJ37o6/Vq9Jnv8Jlo6J3iJiek9YmO6YQu66SdNnnjpPRc7Vq41GCOesADmOoAAAAAAAAAAAAAAAAIjzZ1+NB4QyJtXOzl5cfIWIjviZj61XpG/X2JdM7RMzPSOszPdEM481+Jf7RcUXJsXO1g4m9nH27p6/Wr9Zj3RDp7VpJ1OeOY9o6uXuurjT4J46yiIC6QwAAAAAAAAAAAAAAAAAAAAAAAAAAvbkpxbTq2lRoedd3zsOja3Mz/i2o/OY7vcol2dJz8vS9Rsahg3ZtZFirtUVR+U+MbdHh3DR11eKa946PdoNZbS5Yt27tZjwOBOJ8PinRaM2xMW8ijanIs79bdXxifs/wDXvoPJjtjtNbdYXePJXLWL16SAPw2AAAAAAAAAAAAAPA474nw+FtFrzb8xcyK96cezv1uVfCI+3/x+8eO2S0VrHvLXkyVxVm9uiMc6+LadJ0qdDwbv/wB2ZRtcmJ/wrU9/sme73qJdnVs/L1TUb+oZ12buRfq7VdU/lHhG3R1l5t+jrpcUV7z1Qmv1ltVlm/bsAPc8IAAAAAAAAAAAAAAAAAAAAAAAAAAAD1uE+IM/hvV7eo4FfWOly3P927T+GWjeEuI9O4l0qjOwLvWOl6zM/XtVeE/1Zcelw5rmpcP6nRqGmX5tXaelUT1prj8NUeDk7ltldXXzV9rf9dXbdztpLeW3ytVCJ8B8daXxRYps9qnG1KI3rxqqus+dE/ehLEZlxXxWml44mFnhzUzV89J5gAa20AAAAAAAABE+POOtL4XsVWe1Tk6lMb0Y1NXWPOufuw2YsV8topSOZlqzZqYa+e88Q9Pi7iPTuGdLqztQu9ZiYs2Yn692rwj+rOXFnEGfxJq9zUc+vrPS3bj+7ap/DDj4j1zUuINTrz9Tvzdu1dKYjpTRH4aY+yP+9XmrPbdsrpK+a3vb/iM3Lc7au3lr8oA6zlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPqzdu2b1N6zcrt3KJiaa6apiYnx8lo8Fc2crF+Tw+JKKsmzG0RlUR+sp/ej73tjr7VWDy6nR4tTXy5I/y9Om1eXTW82OWrtE1jS9axYydLzbOVanvmirrHlMd8ex3mStPzszT8mnJwcq9jX6e65br7M+zzjyT/AEDm5r2FFNvVLFjUrcdJrn9Xc29sdJ9yc1Ow5aTzinmFJpt+x34jLHEr2EC0jmxwtmUxGXXk4Fc98Xbc1U++ndJMLirhrNpicbXMCvfuib9NMz6VbS4+TSZ8XzUmHXx6zBkj4bw9kcNvMxLsRNvLsVxPdNNymYkuZmJaiZuZdiiI75quUxENPkt9G/z146uYeNm8VcNYVMzk65gUbd8RfpqmPSneUb1fmxwth0zGJXk59cd0Wrc00++rZux6TPl+Wky0ZNZgxx8V4T10db1jS9FxZydUzbOLajumurrPlEd8z5KX4g5ua9mxVb0qxZ023PSK4/WXPfPT+CAahnZmoZNWTnZV7Jv1d9y5X2p9nlHk6+m2HLfics+WHI1O/Y6RxijmVmca82crK+Uw+G6KsWzPScquI+Uq/dj7vtnr7FXXrt29eqvXrldy5XMzVXVVMzM+Pm+RS6bR4tNXy44/ym9TrMupt5skgD0vMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPx+gADHlhnzS/H6DLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//Z"},39:function(A,e,t){A.exports=t.p+"static/media/warbler-logo.25398cf7.png"},44:function(A,e,t){A.exports=t(76)},49:function(A,e,t){},76:function(A,e,t){"use strict";t.r(e);var a=t(0),n=t.n(a),r=t(18),s=t.n(r),c=(t(49),t(7)),o=t(14),i={isAuthenticated:!1,user:{}},l=t(17),u=t(43),m=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOAD_MESSAGES":return Object(u.a)(e.messages);case"REMOVE_MESSAGE":return A.filter((function(A){return A._id!==e.id}));default:return A}},p=Object(o.c)({currentUser:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CURRENT_USER":return{isAuthenticated:!!Object.keys(e.user).length,user:e.user};default:return A}},errors:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_ERROR":return Object(l.a)(Object(l.a)({},A),{},{message:e.error});case"REMOVE_ERROR":return Object(l.a)(Object(l.a)({},A),{},{message:null});default:return A}},messages:m}),d=t(38);var f=t(8),h=t(10),E=t(11),b=t(13),g=t(12),v=t(39),j=t.n(v),U=t(40),O=t(22),x=t.n(O);function R(A,e,t){return new Promise((function(a,n){return x.a[A.toLowerCase()](e,t).then((function(A){return a(A.data)})).catch((function(A){return n(A.response.data.error)}))}))}var w=function(A){return{type:"ADD_ERROR",error:A}},M=function(){return{type:"REMOVE_ERROR"}};function N(A){return{type:"SET_CURRENT_USER",user:A}}function H(A){!function(A){A?x.a.defaults.headers.common.Authorization="Bearer ".concat(A):delete x.a.defaults.headers.common.Authorization}(A)}var y=function(A){Object(b.a)(t,A);var e=Object(g.a)(t);function t(){var A;Object(h.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(A=e.call.apply(e,[this].concat(n))).logout=function(e){e.preventDefault(),A.props.logout()},A}return Object(E.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar navbar-expand bg-dark"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"navbar-header"},n.a.createElement(f.b,{to:"/",className:"navbar-brand"},n.a.createElement("img",{src:j.a,alt:"Home"}))),this.props.currentUser.isAuthenticated?n.a.createElement("ul",{className:"nav navbar-nav navbar-right"},n.a.createElement("li",null,n.a.createElement(f.b,{className:"text-light",to:"/users/".concat(this.props.currentUser.user.id,"/messages/new")},"New Message")),n.a.createElement("li",null,n.a.createElement("a",{onClick:this.logout,className:"text-light"},"Log out"))):n.a.createElement("ul",{className:"nav navbar-nav navbar-right"},n.a.createElement("li",null,n.a.createElement("i",{className:"fas fa-user-plus mr-2 text-white"}),n.a.createElement(f.b,{to:"/signup"},"Sign up")),n.a.createElement("li",null,n.a.createElement("i",{className:"fa fa-beer mr-2 text-white"}),n.a.createElement(f.b,{to:"/signin"},"Log In")))))}}]),t}(a.Component);var z=Object(c.b)((function(A){return{currentUser:A.currentUser}}),{logout:function(){return function(A){localStorage.clear(),H(!1),A(N({}))}}})(y),P=t(2),T=t(41),V=t.n(T),B=t(21),Z=t.n(B),D=function(A){var e=A.date,t=A.profileImageUrl,a=A.text,r=A.username,s=A.removeMessage,c=A.isCorrectUser;return n.a.createElement("div",null,n.a.createElement("li",{className:"list-group-item"},n.a.createElement("img",{src:t||Z.a,alt:r,height:"100",width:"100",className:"timeline-image"}),n.a.createElement("div",{className:"message-area"},n.a.createElement(f.b,{to:"/"},"@",r," \xa0"),n.a.createElement("span",{className:"text-muted"},n.a.createElement(V.a,{className:"text-muted",format:"Do MMM YYYY"},e)),n.a.createElement("p",null,a),c&&n.a.createElement("a",{className:"btn btn-danger",onClick:s},"Delete"))))},Y=function(A){Object(b.a)(t,A);var e=Object(g.a)(t);function t(){return Object(h.a)(this,t),e.apply(this,arguments)}return Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMessages()}},{key:"render",value:function(){var A=this,e=this.props,t=e.messages,a=e.removeMessage,r=e.currentUser,s=t.map((function(e){return n.a.createElement(D,{key:e._id,date:e.createAt,text:e.text,username:e.user.username,profileImageUrl:e.user.profileImageUrl,removeMessage:a.bind(A,e.user._id,e._id),isCorrectUser:r===e.user._id})}));return n.a.createElement("div",{className:"row col-sm-8"},n.a.createElement("div",{className:"offset-1 col-sm-10"},n.a.createElement("ul",{className:"list-group",id:"messages"},s)))}}]),t}(a.Component);var q=Object(c.b)((function(A){return{messages:A.messages,currentUser:A.currentUser.user.id}}),{fetchMessages:function(){return function(A){return R("GET","/api/messages").then((function(e){A({type:"LOAD_MESSAGES",messages:e})})).catch((function(e){A(w(e.message))}))}},removeMessage:function(A,e){return function(t){return R("delete","/api/users/".concat(A,"/messages/").concat(e)).then((function(){return t({type:"REMOVE_MESSAGE",id:e})})).catch((function(A){w(A.message)}))}}})(Y),X=function(A){var e=A.profileImageUrl,t=A.username;return n.a.createElement("aside",{className:"col-sm-2"},n.a.createElement("div",{className:"panel panel-default"},n.a.createElement("div",{className:"panel-body"},n.a.createElement("img",{src:e||Z.a,alt:t,width:"200",height:"200",id:"img-thumbnail"}))))},W=function(A){return n.a.createElement("div",{className:"row"},n.a.createElement(X,{profileImageUrl:A.profileImageUrl,username:A.username}),n.a.createElement(q,null))},F=function(A){var e=A.currentUser;return e.isAuthenticated?n.a.createElement("div",null,n.a.createElement(W,{profileImageUrl:e.user.profileImageUrl,username:e.user.username})):n.a.createElement("div",{className:"home-hero"},n.a.createElement("h1",null,"What's Happening?"),n.a.createElement("h4",null,"New to Messanger?"),n.a.createElement(f.b,{to:"/signup",className:"btn btn-dark mt-2 btn-lg"},"Sign up here"))},L=t(20),I=function(A){Object(b.a)(t,A);var e=Object(g.a)(t);function t(A){var a;return Object(h.a)(this,t),(a=e.call(this,A)).handleChange=function(A){a.setState(Object(L.a)({},A.target.name,A.target.value))},a.handleSubmit=function(A){A.preventDefault();var e=a.props.signUp?"signup":"signin";a.props.onAuth(e,a.state).then((function(){a.props.history.push("/")})).catch((function(){}))},a.state={email:"",username:"",password:"",profileImageUrl:""},a}return Object(E.a)(t,[{key:"render",value:function(){var A=this.state,e=A.email,t=A.username,a=A.password,r=A.profileImageUrl,s=this.props,c=s.signUp,o=s.heading,i=s.buttonText,l=s.errors,u=s.history,m=s.removeError;return u.listen((function(){m()})),n.a.createElement("div",null,n.a.createElement("div",{className:"row justify-content-md-center text-center"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("h2",null,o),l.message&&n.a.createElement("div",{className:"alert alert-danger"},l.message),n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{autoComplete:"off",className:"form-control",id:"email",name:"email",onChange:this.handleChange,type:"text",value:e}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{autoComplete:"off",className:"form-control",id:"password",name:"password",onChange:this.handleChange,type:"password",value:a}),c&&n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{autoComplete:"off",className:"form-control",id:"username",name:"username",onChange:this.handleChange,type:"text",value:t}),n.a.createElement("label",{htmlFor:"image-url"},"Image URL"),n.a.createElement("input",{autoComplete:"off",className:"form-control",id:"image-url",name:"profileImageUrl",onChange:this.handleChange,type:"text",value:r})),n.a.createElement("button",{type:"submit",className:"btn btn-outline-dark mt-3 btn-block btn-lg"},i)))))}}]),t}(a.Component),S=function(A){Object(b.a)(t,A);var e=Object(g.a)(t);function t(A){var a;return Object(h.a)(this,t),(a=e.call(this,A)).handleNewMessage=function(A){A.preventDefault(),a.props.postNewMessage(a.state.message),a.setState({message:""}),a.props.history.push("/")},a.state={message:""},a}return Object(E.a)(t,[{key:"render",value:function(){var A=this;return n.a.createElement("form",{onSubmit:this.handleNewMessage},this.props.errors.message&&n.a.createElement("div",{className:"alert alert-danger"},this.props.errors.message),n.a.createElement("input",{type:"text",className:"form-control",value:this.state.message,onChange:function(e){return A.setState({message:e.target.value})}}),n.a.createElement("button",{type:"submit",className:"btn btn-dark mt-2"},"Add my message!"))}}]),t}(a.Component);var k=Object(c.b)((function(A){return{errors:A.errors}}),{postNewMessage:function(A){return function(e,t){var a=t().currentUser.user.id;return R("post","/api/users/".concat(a,"/messages"),{text:A}).then((function(A){})).catch((function(A){return w(A.message)}))}}})(S);function C(A){var e=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"componentWillMount",value:function(){!1===this.props.isAuthenticated&&this.props.history.push("/signin")}},{key:"componentWillUpdate",value:function(A){!1===A.isAuthenticated&&this.props.history.push("/signin")}},{key:"render",value:function(){return n.a.createElement(A,this.props)}}]),a}(a.Component);return Object(c.b)((function(A){return{isAuthenticated:A.currentUser.isAuthenticated}}))(e)}var J=Object(P.f)(Object(c.b)((function(A){return{currentUser:A.currentUser,errors:A.errors}}),{authUser:function(A,e){return function(t){return new Promise((function(a,n){return R("post","/api/auth/".concat(A),e).then((function(A){var e=A.token,n=Object(U.a)(A,["token"]);localStorage.setItem("jwtToken",e),H(e),t(N(n)),t({type:"REMOVE_ERROR"}),a()})).catch((function(A){t(w(A.message)),n()}))}))}},removeError:M})((function(A){var e=A.authUser,t=A.errors,a=A.removeError,r=A.currentUser;return n.a.createElement("div",{className:"container"},n.a.createElement(P.c,null,n.a.createElement(P.a,{exact:!0,path:"/",render:function(A){return n.a.createElement(F,Object.assign({currentUser:r},A))}}),n.a.createElement(P.a,{exact:!0,path:"/signin",render:function(A){return n.a.createElement(I,Object.assign({removeError:a,errors:t,onAuth:e,buttonText:"Log in",heading:"Welcome Back."},A))}}),n.a.createElement(P.a,{exact:!0,path:"/signup",render:function(A){return n.a.createElement(I,Object.assign({removeError:a,errors:t,onAuth:e,signUp:!0,buttonText:"Sign me up!",heading:"Join your Messanger today!!!"},A))}}),n.a.createElement(P.a,{path:"/users/:id/messages/new",component:C(k)})))}))),Q=t(42),G=t.n(Q),K=Object(o.e)(p,Object(o.d)(Object(o.a)(d.a),window.devToolsExtension?window.devToolsExtension():function(A){return A}));if(localStorage.jwtToken){H(localStorage.jwtToken);try{K.dispatch(N(G()(localStorage.jwtToken)))}catch($){K.dispatch(N({}))}}var _=function(){return n.a.createElement(c.a,{store:K},n.a.createElement(f.a,null,n.a.createElement("div",{className:"onboarding"},n.a.createElement(z,null),n.a.createElement(J,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(A){A.unregister()})).catch((function(A){console.error(A.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.6609bf2d.chunk.js.map